#!/usr/bin/env cbmbasic

10 OPEN 1,1,0,"../data/12-input.txt"
11 X=0:Y=0:DX=1:DY=0

20 GET#1,C$:N=0
21 GET#1,D$
22 IF ASC(D$)=10 THEN GOTO 30
23 IF ASC(D$)=199 THEN PRINT "12 (p1):";ABS(X)+ABS(Y):END
24 N=N*10+ASC(D$)-48
25 GOTO 21

30 REM PRINT C$,N,X,Y,DX,DY
31 IF C$="N"THEN Y=Y-N:GOTO 20
32 IF C$="S"THEN Y=Y+N:GOTO 20
33 IF C$="W"THEN X=X-N:GOTO 20
34 IF C$="E"THEN X=X+N:GOTO 20
35 IF C$="F"THEN X=X+DX*N:Y=Y+DY*N:GOTO 20
36 IF C$="L"THEN N=360-N
37 IF N>0 THEN N=N-90:TMP=DX:DX=-DY:DY=TMP:GOTO 37
38 GOTO 20
